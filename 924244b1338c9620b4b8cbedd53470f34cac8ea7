{
  "comments": [
    {
      "key": {
        "uuid": "1aca2d91_d935f3f7",
        "filename": "lib/NGCP/Panel/Role/API/Conversations.pm",
        "patchSetId": 2
      },
      "lineNbr": 826,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2018-07-26T09:09:07Z",
      "side": 1,
      "message": "I\u0027m not sure about this renaming. Want to test it first.",
      "range": {
        "startLine": 826,
        "startChar": 20,
        "endLine": 826,
        "endChar": 29
      },
      "revId": "924244b1338c9620b4b8cbedd53470f34cac8ea7",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1aca2d91_d91cd379",
        "filename": "lib/NGCP/Panel/Role/API/Conversations.pm",
        "patchSetId": 2
      },
      "lineNbr": 826,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2018-07-26T09:21:05Z",
      "side": 1,
      "message": "yes, most likely there will be issues; but it never was intended to expos a field called \"start_time\", which is exclusive to calls only.",
      "parentUuid": "1aca2d91_d935f3f7",
      "range": {
        "startLine": 826,
        "startChar": 20,
        "endLine": 826,
        "endChar": 29
      },
      "revId": "924244b1338c9620b4b8cbedd53470f34cac8ea7",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1aca2d91_39062721",
        "filename": "lib/NGCP/Panel/Role/API/Conversations.pm",
        "patchSetId": 2
      },
      "lineNbr": 826,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2018-07-26T09:27:30Z",
      "side": 1,
      "message": "At the form we expose start_time. We don\u0027t use any other time related field.\nI would say \"tart_time\" is good name for the field, all of the convarsations can relate to it, and still we have other terms (like end_time) to show other information. I would leave it as start_time in form.",
      "parentUuid": "1aca2d91_d91cd379",
      "range": {
        "startLine": 826,
        "startChar": 20,
        "endLine": 826,
        "endChar": 29
      },
      "revId": "924244b1338c9620b4b8cbedd53470f34cac8ea7",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1aca2d91_bc1fc55a",
        "filename": "lib/NGCP/Panel/Role/API/Conversations.pm",
        "patchSetId": 2
      },
      "lineNbr": 826,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2018-07-26T09:48:04Z",
      "side": 1,
      "message": "we can do that, but thats how you ran into the issues commented in the controller\n\n        #fax_journal and othre type tables does not have \u0027timestamp\u0027 field (\u0027time\u0027 instead in fax_journal).\n        #So in unwrapped query (e.g. when we ask fax_journal by querying type\u003dfax), we need to refer to timestamp - alias of the \"time\" field, without table alias prefix \"me.\"\n\nthe goal was to support global sorting by time, if no type is specified. therefore the unions expose a uniform field representing epoch seconds (since the majority of involved tables use epoch).\n\nthe plan was there is a field named \"timestamp\" for any type, which one can use with \"?order_by\u003dtimestamp\". for filtering, the params were named \"from\" and \"to\".",
      "parentUuid": "1aca2d91_39062721",
      "range": {
        "startLine": 826,
        "startChar": 20,
        "endLine": 826,
        "endChar": 29
      },
      "revId": "924244b1338c9620b4b8cbedd53470f34cac8ea7",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1aca2d91_3c4bb55b",
        "filename": "lib/NGCP/Panel/Role/API/Conversations.pm",
        "patchSetId": 2
      },
      "lineNbr": 826,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2018-07-26T10:23:40Z",
      "side": 1,
      "message": "the reason of the fax_journal issue was that we tried to order by \"me.timestamp\", where \"me\" as alias for the table, not for subquery. Please, look:\n\nMariaDB [(none)]\u003e select id as id_aliased from kamailio.fax_journal me order by id_aliased;\nEmpty set (0.00 sec)\n\nMariaDB [(none)]\u003e select id_aliased from  (select id as id_aliased from kamailio.fax_journal ) me order by me.id_aliased;\nEmpty set (0.00 sec)\n\nMariaDB [(none)]\u003e select id as id_aliased from kamailio.fax_journal me order by me.id_aliased;\nERROR 1054 (42S22): Unknown column \u0027me.id_aliased\u0027 in \u0027order clause\u0027\n\nSo, we do have now unified \"timestamp\" as field already, but it doesn\u0027t work until we wrap table into subquery or stop using table reference \"me\", trying to access unaliased field \"timestamp\" that is absent.",
      "parentUuid": "1aca2d91_bc1fc55a",
      "range": {
        "startLine": 826,
        "startChar": 20,
        "endLine": 826,
        "endChar": 29
      },
      "revId": "924244b1338c9620b4b8cbedd53470f34cac8ea7",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1aca2d91_7cafede3",
        "filename": "lib/NGCP/Panel/Role/API/Conversations.pm",
        "patchSetId": 2
      },
      "lineNbr": 826,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2018-07-26T10:36:27Z",
      "side": 1,
      "message": "yes, i reproduced just that; new patchset covers it.\nthe name \"timestamp\" was choosen intentionally - there wont\u0027t be a table column called like that, as its a reserved word.",
      "parentUuid": "1aca2d91_3c4bb55b",
      "range": {
        "startLine": 826,
        "startChar": 20,
        "endLine": 826,
        "endChar": 29
      },
      "revId": "924244b1338c9620b4b8cbedd53470f34cac8ea7",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}