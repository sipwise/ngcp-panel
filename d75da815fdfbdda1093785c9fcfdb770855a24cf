{
  "comments": [
    {
      "key": {
        "uuid": "fabf19d9_b4ba406d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-05-22T15:19:16Z",
      "side": 1,
      "message": "What is that default setting that makes this work, and would not work otherwise? That seems surprising to me. :)",
      "revId": "d75da815fdfbdda1093785c9fcfdb770855a24cf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_745b8855",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-05-22T15:47:39Z",
      "side": 1,
      "message": "I can bet I saw some bash/shell option like \"set -something\" which prevent automatic export. while I cannot find it now. I will remove those like from commit message.",
      "parentUuid": "fabf19d9_b4ba406d",
      "revId": "d75da815fdfbdda1093785c9fcfdb770855a24cf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_8f3a85cc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-05-22T16:36:08Z",
      "side": 1,
      "message": "My point is that this is still wrong. I just checked locally to make sure. The export here is just to shut up shellcheck, the current usage works just fine. I\u0027d rather we used a shellcheck override instead of doing this which seems rather confusing.",
      "parentUuid": "fabf19d9_745b8855",
      "revId": "d75da815fdfbdda1093785c9fcfdb770855a24cf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_2f17f9ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-05-23T08:12:37Z",
      "side": 1,
      "message": "Why? this is exactly how it should be. If you need the variable to some scripts you include into main one, export it.\nWe have the same logic in deployment.sh and ngcp-installer.\n\nWhat is the problem to export variable here?",
      "parentUuid": "fabf19d9_8f3a85cc",
      "revId": "d75da815fdfbdda1093785c9fcfdb770855a24cf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_611d0566",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-05-23T11:23:00Z",
      "side": 1,
      "message": "export is not necessary when sourcing a script, only when forking and executing a child, source implies executing code in the current environment. So in this case we are adding export:s just to shut up shellcheck, which seems wrong and confusing. I did get confused, as I thought for some reason the source\u0027d file was not seeing the variable, which it does.\n\nAnother alternative if you do not like adding an override, would be to pass the variable as an argument to the function.",
      "parentUuid": "fabf19d9_2f17f9ee",
      "revId": "d75da815fdfbdda1093785c9fcfdb770855a24cf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_a13afdcb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-05-23T11:42:23Z",
      "side": 1,
      "message": "\u003e Another alternative if you do not like adding an override, would be to pass the variable as an argument to the function.\n\nHow can you pass variable on sourcing? Like this:\n  \n\u003e CREDS\u003d\"${HOME}/.ngcp-api\"\n\u003e TOOLS\u003d\"/usr/share/ngcp-panel-tools/ngcp-api.inc\"\n\u003e source CREDS\u003d${CREDS} \"${TOOLS}\"\n\n?\n\nExporting the variable is the way I saw in a lot of places in Sipwise.\nYou never now the code inside all the child scripts which can fork something and variable will be invisible there.\n\nHaving variable into the script AND not using it is MORE confusing (see my patchset 1 as an example).\nI am not shuting up shellcheck here, I do agree with it. I would submit it AS IS.\nWe are clearly exporting the variable which is in use somewhere into the child scripts of child script, of ... .\n\nAlso it is not harmful, the exported variable is available into the current thread only, while a bit future proved.\nI agree on mistake on commit message which confused you, it has been removed.",
      "parentUuid": "fabf19d9_611d0566",
      "revId": "d75da815fdfbdda1093785c9fcfdb770855a24cf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}