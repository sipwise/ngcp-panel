{
  "comments": [
    {
      "key": {
        "uuid": "7a1969be_26601635",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T13:59:02Z",
      "side": 1,
      "message": "it means a specific login role is assumed here, or if one of the other query params like susbcriber_id is specified. then actually, this new_rs is somewaht redundant imho.\n\nif i get it right, own cli should effectively filter source_cli or destination_user_in for a given string. so why not simply assuming the rs was already ammended eg by subscriber_id param above, and then just adding something like below for this query param here:\n\n -or \u003d\u003e [\n\u0027source_cli\u0027 \u003d\u003e $q,\n\u0027destination_user_in\u0027 \u003d\u003e $q,\n],\n\nsince users are forced to use subscriber_id or customer_id anyway.",
      "range": {
        "startLine": 214,
        "startChar": 20,
        "endLine": 214,
        "endChar": 40
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_26ee568c",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T14:55:23Z",
      "side": 1,
      "message": "should be possible",
      "parentUuid": "7a1969be_26601635",
      "range": {
        "startLine": 214,
        "startChar": 20,
        "endLine": 214,
        "endChar": 40
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_267936fd",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 223,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T13:59:02Z",
      "side": 1,
      "message": "not much importance, but introduces dupes for self-calls",
      "range": {
        "startLine": 223,
        "startChar": 36,
        "endLine": 223,
        "endChar": 45
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_06f35a74",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 223,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T14:55:23Z",
      "side": 1,
      "message": "well tested it on a customer platform and it does not produce duplicates so far.",
      "parentUuid": "7a1969be_267936fd",
      "range": {
        "startLine": 223,
        "startChar": 36,
        "endLine": 223,
        "endChar": 45
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_4688b2e7",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 227,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T13:59:02Z",
      "side": 1,
      "message": "id",
      "range": {
        "startLine": 227,
        "startChar": 65,
        "endLine": 227,
        "endChar": 69
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_66e84e7d",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 227,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T14:55:23Z",
      "side": 1,
      "message": "true :)",
      "parentUuid": "7a1969be_4688b2e7",
      "range": {
        "startLine": 227,
        "startChar": 65,
        "endLine": 227,
        "endChar": 69
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_a66c0638",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 231,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T13:59:02Z",
      "side": 1,
      "message": "$owner-\u003e{customer}-\u003eid",
      "range": {
        "startLine": 231,
        "startChar": 50,
        "endLine": 231,
        "endChar": 76
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_46ed528b",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 231,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T14:55:23Z",
      "side": 1,
      "message": "true",
      "parentUuid": "7a1969be_a66c0638",
      "range": {
        "startLine": 231,
        "startChar": 50,
        "endLine": 231,
        "endChar": 76
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_86690a28",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 232,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T13:59:02Z",
      "side": 1,
      "message": "dont get this yet, what if ommitted?",
      "range": {
        "startLine": 232,
        "startChar": 24,
        "endLine": 232,
        "endChar": 84
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_a601a63b",
        "filename": "lib/NGCP/Panel/Controller/API/CallLists.pm",
        "patchSetId": 5
      },
      "lineNbr": 232,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T14:55:23Z",
      "side": 1,
      "message": "there is a similar block above so I assume that was implemented to filter calls within the same customer for some reason but imho it should be removed indeed.",
      "parentUuid": "7a1969be_86690a28",
      "range": {
        "startLine": 232,
        "startChar": 24,
        "endLine": 232,
        "endChar": 84
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba1f61a0_7c7c6173",
        "filename": "lib/NGCP/Panel/Utils/CallList.pm",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000005
      },
      "writtenOn": "2017-03-16T10:08:09Z",
      "side": 1,
      "message": "you\u0027re going to (among others) catch calls here, which are definitely incoming.",
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_a61fe608",
        "filename": "lib/NGCP/Panel/Utils/CallList.pm",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T10:19:40Z",
      "side": 1,
      "message": "except that they are not (or from which PoV to pick basically :) )\nit\u0027s a local (internal, and usually the \"application\" call within the same subscriber), and if it is \"in\", that breaks the representation.\n\nA quick example:\n\na call to the \"malicious call number\" shows in the CallList\n\ndirection: in\nother_cli: 4312345\nown_cli: malicious_call\n\nwhere in reality the user physically picked up the phone and dialed \"123\", and for him that was an \"ougoing\" call, not that the \"application server\" called him.",
      "parentUuid": "ba1f61a0_7c7c6173",
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_06d87a52",
        "filename": "lib/NGCP/Panel/Utils/CallList.pm",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2017-03-22T10:20:57Z",
      "side": 1,
      "message": "P.S. so with the change it will look like\n\ndirection: out\nown_cli: 4312345\nother_cli: malicious_call\n\nwhich respresents what happened.",
      "parentUuid": "7a1969be_a61fe608",
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_06c19ae4",
        "filename": "lib/NGCP/Panel/Utils/CallList.pm",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T15:27:11Z",
      "side": 1,
      "message": "if that is needed for the tested case, it should be narrowed ie\n\nif (\u003cown_cli param specified\u003e) {\n  $resource-\u003e{direction} \u003d \"out\"\n} else {\n  $resource-\u003e{direction} \u003d \"in\"\n}",
      "range": {
        "startLine": 49,
        "startChar": 8,
        "endLine": 49,
        "endChar": 38
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_89363de6",
        "filename": "lib/NGCP/Panel/Utils/CallList.pm",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2017-03-22T16:12:17Z",
      "side": 1,
      "message": "thinking of gerhards consideration: when filtering with subscriber_id\u003dmynumber; a callist can look like\n\nsrc:dst\nmynumber:friend1 -\u003eout\nmynumber:friend2 -\u003eout\nfriend3:mynumber -\u003ein\nfriend4:mynumber -\u003ein\n\n\"$sub-\u003euuid eq $item-\u003edestination_user_id\" is true for the lower 2, so you want to declare them as out as well",
      "parentUuid": "7a1969be_06c19ae4",
      "range": {
        "startLine": 49,
        "startChar": 8,
        "endLine": 49,
        "endChar": 38
      },
      "revId": "d0c58d8adfd7db7e777f2df900c1b44a035cadfa",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}